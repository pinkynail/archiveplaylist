# archiveplaylist
Archive Playlist





Добро пожаловать в Archive Playlist — мой личный пет-проект, созданный для архивации плейлистов с YouTube и сохранения их аудиоконтента в Google Drive. Этот проект был запущен как увлекательный эксперимент для изучения веб-разработки, интеграции API и процессов деплоя. Он позволяет пользователям скачивать аудио с видео YouTube, организовывать их в плейлисты и безопасно хранить в облаке.

Возможности
Скачивание аудио с YouTube: Извлечение аудио из видео YouTube с помощью youtube-dl-exec (на основе yt-dlp).
Интеграция с Google Drive: Загрузка и организация аудиофайлов в папках Google Drive.
Управление плейлистами: Создание и управление плейлистами с динамической структурой папок.
Веб-интерфейс: Простой интерфейс на основе EJS с использованием Bootstrap для элегантного дизайна.
Развёртывание на Render: Хостинг на бесплатном тарифе Render с автоматическими проверками состояния.
Технологический стек
Бэкенд: Node.js (v22.12.0) с Express.js
Рантайм: Bun (v1.1.0) для дополнительной гибкости
Зависимости:
youtube-dl-exec для скачивания с YouTube
googleapis для интеграции с Google Drive API
ejs для шаблонов
bootstrap для стилизации
Деплой: Render (бесплатный тариф)
Контроль версий: Git и GitHub
Установка
Проект уже развёрнут и готов к использованию, но если ты хочешь запустить его локально для разработки или экспериментов:

Склонируй репозиторий:
bash

Collapse

Wrap

Copy
git clone https://github.com/pinkynail/archiveplaylist.git
cd archiveplaylist
Установи зависимости:
bash

Collapse

Wrap

Copy
npm install
Настрой переменные окружения:
Создай файл .env в корневой директории с содержимым:
text

Collapse

Wrap

Copy
GOOGLE_CLIENT_ID=твой_клиент_id
GOOGLE_CLIENT_SECRET=твой_секрет
GOOGLE_REDIRECT_URI=https://archiveplaylist.onrender.com/auth/callback
GOOGLE_REFRESH_TOKEN=твой_рефреш_токен
COOKIES_FILE=/etc/secrets/cookies.txt  # Для Render, настрой локально при необходимости
FFMPEG_PATH=/usr/bin/ffmpeg  # Путь к ffmpeg (установи локально, если нужно)
PORT=3000
Получи GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET и GOOGLE_REFRESH_TOKEN в Google Cloud Console после настройки API Drive.
Экспортируй cookies YouTube в cookies.txt с помощью команды: yt-dlp --cookies-from-browser chrome > cookies.txt.
Установи ffmpeg (для macOS):
bash

Collapse

Wrap

Copy
brew install ffmpeg
Запусти сервер:
bash

Collapse

Wrap

Copy
node index.js
Открой приложение по адресу http://localhost:3000.
Использование
Посети развёрнутое приложение по адресу https://archiveplaylist.onrender.com.
Введи URL видео YouTube в форму.
Выбери или создай папку плейлиста для сохранения аудио.
Аудио будет скачано, преобразовано в MP3 и загружено в твою Google Drive.
Путь разработки
Этот пет-проект начался как способ изучить Node.js, интегрировать сторонние API и поэкспериментировать с деплоем на Render. По пути я столкнулся с вызовами, такими как:

Обход защиты от ботов YouTube с помощью cookies.
Решение проблем с read-only файловой системой на Render с использованием Secret Files.
Оптимизация времени холодного старта с помощью эндпоинтов состояния.
Обеспечение безопасности с переменными окружения и игнорированием файлов в Git.
Проект эволюционировал от простого скрипта к полноценному веб-приложению, с вкладом от отладочных сессий и советов сообщества (особая благодарность моему виртуальному помощнику!).

Вклад в развитие
Это личный пет-проект, но вклад приветствуется! Ты можешь:

Открывать проблемы (issues) для сообщений об ошибках или предложений.
Присылать пулл-реквесты с улучшениями.
Учти, что проект использует мои личные API-ключи и cookies, поэтому, если хочешь работать с ним, сделай форк и настрой свои собственные переменные окружения.

Лицензия
Этот проект лицензирован под лицензией MIT. Ты можешь использовать, модифицировать и распространять его по своему усмотрению.

Благодарности
Render за предоставление бесплатной платформы хостинга.
yt-dlp и youtube-dl-exec за возможность скачивания с YouTube.
Google Drive API за интеграцию с облачным хранилищем.
Сообществу open-source за инструменты и вдохновение.
